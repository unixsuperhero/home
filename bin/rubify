#!/bin/bash

if test $# -eq 0; then
  while read file
  do
    if [[ "$file" == *".rb" && "$file" == *"_spec.rb" ]]
    then
      echo "$file" | sed 's/spec\//app\//;s/_spec.rb$/\.rb/'
    else
      echo "$file"
    fi
  done
else
  for arg in "$@"
  do
    if [[ "$arg" == *".rb" && "$arg" == *"_spec.rb" ]]
    then
      echo "$arg" | sed 's/spec\//app\//;s/_spec.rb$/\.rb/'
    else
      echo "$arg"
    fi
  done
fi
